# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ `from_json` –≤ BG Survey Platform

## üö® –ü—Ä–æ–±–ª–µ–º–∞
**–û—à–∏–±–∫–∞:** `jinja2.exceptions.TemplateRuntimeError: No filter named 'from_json' found`

**URL:** `http://192.168.96.213:5000/surveys/1`

## üîç –ü—Ä–∏—á–∏–Ω–∞
–§–∏–ª—å—Ç—Ä `from_json` –±—ã–ª –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —Ç–æ–ª—å–∫–æ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è –≤ `context_processor`, –Ω–æ –Ω–µ –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä Jinja2. –í Jinja2 –µ—Å—Ç—å —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@app.template_filter('from_json')` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞:

```python
# –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Ñ–∏–ª—å—Ç—Ä from_json –æ—Ç–¥–µ–ª—å–Ω–æ
@app.template_filter('from_json')
def from_json_filter(json_string):
    """–§–∏–ª—å—Ç—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è JSON —Å—Ç—Ä–æ–∫–∏ –≤ Python –æ–±—ä–µ–∫—Ç"""
    try:
        if json_string:
            return json.loads(json_string)
        return []
    except (json.JSONDecodeError, TypeError):
        return []
```

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–∏—è
- **–§–∞–π–ª:** `app.py`
- **–î–æ–±–∞–≤–ª–µ–Ω:** –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `@app.template_filter('from_json')`
- **–§—É–Ω–∫—Ü–∏—è:** `from_json_filter()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ JSON

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   python3 app.py
   ```

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø—Ä–æ—Å–∞:**
   ```
   http://192.168.96.213:5000/surveys/1
   ```

3. **–û—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å** –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –≤ Jinja2:
- **–§—É–Ω–∫—Ü–∏–∏** (`context_processor`) - –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ `{{ function_name() }}`
- **–§–∏–ª—å—Ç—Ä—ã** (`@app.template_filter`) - –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ `{{ value|filter_name }}`

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–µ:
```html
<!-- –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∏–ª—å—Ç—Ä–æ–º -->
{% set options = question.options|from_json %}

<!-- –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ—É–Ω–∫—Ü–∏–µ–π -->
{% set options = from_json(question.options) %}
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ **–û—à–∏–±–∫–∞ `from_json` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞**
- ‚úÖ **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø—Ä–æ—Å–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- ‚úÖ **–§–∏–ª—å—Ç—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —à–∞–±–ª–æ–Ω–∞—Ö**
- ‚úÖ **JSON –æ–ø—Ü–∏–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ**

---

**BG Survey Platform** - —Ñ–∏–ª—å—Ç—Ä `from_json` —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ‚ú®