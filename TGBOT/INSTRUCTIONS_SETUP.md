# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏"

## –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª "üìö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏" –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π OTP-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–∞–π–ª–æ–≤ —Å —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª–∞

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- **1Ô∏è‚É£ 1–°** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å 1–°
- **üìß –ü–æ—á—Ç–∞** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–æ—á—Ç—ã
- **‚¨ÖÔ∏è –ù–∞–∑–∞–¥** - –≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

### –ü–æ–¥—Ä–∞–∑–¥–µ–ª 1–°
- **AR2** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ AR2
- **DM** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ DM
- **‚¨ÖÔ∏è –ù–∞–∑–∞–¥** - –≤–æ–∑–≤—Ä–∞—Ç –∫ –≥–ª–∞–≤–Ω–æ–º—É –º–µ–Ω—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

### –ü–æ–¥—Ä–∞–∑–¥–µ–ª –ü–æ—á—Ç–∞
- **üì± iPhone** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—á—Ç—ã –Ω–∞ iPhone
- **ü§ñ Android** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—á—Ç—ã –Ω–∞ Android
- **üíª Outlook** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ Outlook
- **‚¨ÖÔ∏è –ù–∞–∑–∞–¥** - –≤–æ–∑–≤—Ä–∞—Ç –∫ –≥–ª–∞–≤–Ω–æ–º—É –º–µ–Ω—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª:

```env
# File Server Configuration
FILE_SERVER_BASE_URL=https://files.example.com
FILE_SERVER_USER=your_file_server_user
FILE_SERVER_PASS=your_file_server_password
FILE_SERVER_USE_AUTH=true

# Instructions OTP Configuration
INSTRUCTIONS_OTP_EXPIRE_MINUTES=5
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω—ã –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

```
/
‚îú‚îÄ‚îÄ instructions/
‚îÇ   ‚îú‚îÄ‚îÄ 1c/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ar2.pdf
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ar2.docx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dm.pdf
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dm.docx
‚îÇ   ‚îî‚îÄ‚îÄ email/
‚îÇ       ‚îú‚îÄ‚îÄ iphone.pdf
‚îÇ       ‚îú‚îÄ‚îÄ iphone.docx
‚îÇ       ‚îú‚îÄ‚îÄ android.pdf
‚îÇ       ‚îú‚îÄ‚îÄ android.docx
‚îÇ       ‚îú‚îÄ‚îÄ outlook.pdf
‚îÇ       ‚îî‚îÄ‚îÄ outlook.docx
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- **PDF** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **DOCX** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### OTP-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

1. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –≤ —Ä–∞–∑–¥–µ–ª "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é OTP-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
2. OTP –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ö–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 5 –º–∏–Ω—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `INSTRUCTIONS_OTP_EXPIRE_MINUTES`)
4. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞

- –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ IntraService
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π email

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

- `handlers/instructions.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–∞–∑–¥–µ–ª–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- `file_server.py` - –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º
- –û–±–Ω–æ–≤–ª–µ–Ω—ã `keyboards.py`, `states.py`, `config.py`

### –ù–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

- `InstructionsStates.awaiting_otp_phone` - –æ–∂–∏–¥–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è OTP
- `InstructionsStates.awaiting_otp_code` - –æ–∂–∏–¥–∞–Ω–∏–µ OTP –∫–æ–¥–∞
- `InstructionsStates.main_menu` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- `InstructionsStates.choosing_1c_type` - –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ 1–°
- `InstructionsStates.choosing_email_type` - –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ—á—Ç–µ

### API —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

–ú–æ–¥—É–ª—å `file_server.py` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

- HTTP Basic Authentication
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤
- –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ Telegram
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–§–∞–π–ª–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS —Å –≤–∞–ª–∏–¥–Ω—ã–º SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º
2. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Basic Auth –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```env
# Production File Server
FILE_SERVER_BASE_URL=https://files.yourcompany.com
FILE_SERVER_USER=bot_user
FILE_SERVER_PASS=secure_password
FILE_SERVER_USE_AUTH=true

# Shorter OTP expiration for security
INSTRUCTIONS_OTP_EXPIRE_MINUTES=3
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ –±–æ—Ç–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "üìö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏"
3. –ü—Ä–æ–π–¥–∏—Ç–µ OTP-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –≤ –∫–∞–∂–¥–æ–º –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–∞
curl -u "user:pass" "https://files.example.com/instructions/1c/ar2.pdf"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
curl -u "user:pass" "https://files.example.com/instructions/"
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **"–§–∞–π–ª—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `FILE_SERVER_BASE_URL`
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

2. **"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∫–∞–∑–∞–Ω email –≤ IntraService

3. **"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ OTP –ª–æ–≥–∏—Ä—É—é—Ç—Å—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```bash
tail -f logs/bot.log | grep -E "(instruction|otp|file)"
```